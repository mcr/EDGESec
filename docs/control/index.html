<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="alternate" type="application/rss+xml" href="/EDGESec/blog/rss.xml" title="EDGESec RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/EDGESec/blog/atom.xml" title="EDGESec Atom Feed"><title data-react-helmet="true">Network Control | EDGESec</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://nqminds.github.io/EDGESec/docs/control"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Network Control | EDGESec"><meta data-react-helmet="true" name="description" content="The Network Control architecture"><meta data-react-helmet="true" property="og:description" content="The Network Control architecture"><link data-react-helmet="true" rel="shortcut icon" href="/EDGESec/img/network.svg"><link data-react-helmet="true" rel="canonical" href="https://nqminds.github.io/EDGESec/docs/control"><link data-react-helmet="true" rel="alternate" href="https://nqminds.github.io/EDGESec/docs/control" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://nqminds.github.io/EDGESec/docs/control" hreflang="x-default"><link rel="stylesheet" href="/EDGESec/assets/css/styles.2a02d193.css">
<link rel="preload" href="/EDGESec/assets/js/runtime~main.46dad836.js" as="script">
<link rel="preload" href="/EDGESec/assets/js/main.8ceb7501.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_Zhym">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/EDGESec/"><div class="navbar__logo"><img src="/EDGESec/img/network.svg" alt="NQM Docusaurus Template Logo" class="themedImage_X7X7 themedImage--light_n7cD"><img src="/EDGESec/img/network.svg" alt="NQM Docusaurus Template Logo" class="themedImage_X7X7 themedImage--dark_WTCb"></div><b class="navbar__title">EDGESec</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/EDGESec/docs/">Documentation</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/EDGESec/docs/about">About</a><a href="https://github.com/nqminds/edgesec" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_tjMl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_7DKP toggle_gM5N toggleDisabled_YcJ9"><div class="toggleTrack_pr3n" role="button" tabindex="-1"><div class="toggleTrackCheck_1VIP"><span class="toggleIcon_iGPa">ðŸŒœ</span></div><div class="toggleTrackX_-cNO"><span class="toggleIcon_iGPa">ðŸŒž</span></div><div class="toggleTrackThumb_4edW"></div></div><input type="checkbox" class="toggleScreenReader_BFa8" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_ntW3"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Cy7D" type="button"></button><aside class="docSidebarContainer_ZbqI"><div class="sidebar_bpFd"><nav class="menu thin-scrollbar menu_fJBT"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Introduction</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EDGESec/docs/">EDGESec Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/EDGESec/docs/control">Network Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EDGESec/docs/capture">Network Capture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EDGESec/docs/discovery">Device Discovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/EDGESec/docs/storage">Secure Storage</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Hardware</a></li></ul></nav></div></aside><main class="docMainContainer_QBea"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_R67y"><div class="docItemContainer_fRP7"><article><div class="tocCollapsible_caTw theme-doc-toc-mobile tocMobile_QgRD"><button type="button" class="clean-btn tocCollapsibleButton_YFWb">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Network Control</h1></header><h2 class="anchor anchorWithStickyNavbar_7Y9k" id="the-network-control-architecture">The Network Control architecture<a aria-hidden="true" class="hash-link" href="#the-network-control-architecture" title="Direct link to heading">â€‹</a></h2><p>The network architecture of the EDGESec tool consist of several services that create and manage connected IoT devices. The below diagram depicts the architecture, which consists of six services:</p><ul><li>Subnet service</li><li>Supervisor service</li><li>RADIUS server</li><li>Software AP service</li><li>DHCP service</li><li>State machine service</li><li>Network Capture service</li><li>Crypt service</li></ul><p><img alt="Network architecture" src="/EDGESec/assets/images/dot_network-control-arch-a17e7a9b885b6c55c7408cc51981f059.png"></p><p>The management of each service is controlled by the tool engine, which has the ability to configure and start the execution process. First, the engine executes the supervisor service, which has the role of registering network joining and DHCP requests. It also  exposes a command interface in the form of a UNIX domain socket that can be used by other application or services the control the connected newtork devices. Second, the engine executes the software access point (AP) service that creates a managed AP, which allows every network device to connect to it. The AP allows setting individual network joining credential for every connecting devices. Third, the engine executes the subnet service which creates subnets for give virtual LAN (VLAN) IDs and IP ranges. The software AP service maps subsequently a connected network device to a subnet. Fourth, the engine executes the DHCP service that has the role of assigning IP addresses to connected devices. Fifth, the engine executes the RADIUS server, which sends access control information to the software AP. The access information contains the network joining credentials and the accept/deny MAC address information. Sixth, the engine execute the state machine service, which represents the core of the network monitoring and management process. The state machine monitors the state of each connected network device by employing information from the supevisor service. It also uses the capture service, which executes self contained traffic capturing routines to monitor the flow of packet and disect identify the device types.</p><h2 class="anchor anchorWithStickyNavbar_7Y9k" id="the-subnet-service">The Subnet service<a aria-hidden="true" class="hash-link" href="#the-subnet-service" title="Direct link to heading">â€‹</a></h2><p>This service creates subnets and maps VLAN IDs to a subnet IP range. It uses the Netlink protocol library suite to access network kernel functionality from the user space.</p><h2 class="anchor anchorWithStickyNavbar_7Y9k" id="the-supervisor-service">The Supervisor service<a aria-hidden="true" class="hash-link" href="#the-supervisor-service" title="Direct link to heading">â€‹</a></h2><p>This service supervises the assignment of IP addresses and manages the connectivity structures for a network devices. It exposes a UNIX domain socket as the control interface that can be used by other applications to execute the following commands:</p><ul><li><strong>PING_SUPERVISOR</strong> - Ping the supervisor</li><li><strong>HOSTAPD_IF</strong> - Return the hostapd (software AP) control interface</li><li><strong>ACCEPT_MAC</strong> - Add a MAC address to the accept tlist</li><li><strong>DENY_MAC</strong> - Remove a MAC address from the accept list</li><li><strong>ADD_NAT</strong> - Add a MAC address to network address translation (NAT)</li><li><strong>REMOVE_NAT</strong> - Remove a MAC address from NAT</li><li><strong>ASSIGN_PSK</strong> - Assign a network credential to a MAC address</li><li><strong>GET_MAP</strong> - Return the MAC mapper structure for a given MAC address</li><li><strong>GET_ALL</strong> - Return all MAC mappers structures</li><li><strong>SET_IP</strong> - Map an IP address to a MAC address</li><li><strong>ADD_BRIDGE</strong> - Add two MAC addresses to a bridge</li><li><strong>REMOVE_BRIDGE</strong> - Remove two MAC addresses from a bridge</li><li><strong>GET_BRIDGES</strong> - List all MAc bridges</li></ul><p>The supervisor context below describes the stored structure for all network connected devices:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT c"><pre tabindex="0" class="prism-code language-c codeBlock_ltyB thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">supervisor_context</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  hmap_mac_conn             </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">mac_mapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  hmap_if_conn              </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">if_mapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  hmap_vlan_conn            </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">vlan_mapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  bool                      allow_all_connections</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain">                      hostapd_ctrl_if_path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">MAX_OS_PATH_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">uint8_t</span><span class="token plain">                   wpa_passphrase</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">AP_SECRET_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">ssize_t</span><span class="token plain">                   wpa_passphrase_len</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain">                      nat_interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">IFNAMSIZ</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain">                       default_open_vlanid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  UT_array                  </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">config_ifinfo_array</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">bridge_mac_list</span><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">bridge_list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>It contains the mappers between MAC address, VLAN ID, IP address and network credentials. It also contains the mappers for NAT and network bridges.</p><p>The interaction between the supervisor and other services is depicted below. </p><p><img alt="Supervisor" src="/EDGESec/assets/images/dot_supervisor-8290ad042ae12b3f3e22d9be2211a74b.png"></p><p>The supervisor and DHPC are separate services that intercat through the control interface. When the DHCP assigns an IP address to a network device it sends the assigned IP to the supervisor through control interface. Subsequently the supervisor saves the IP in the corresponding mapping table. The supervisor also notifies the radius server on the MAC addresses and credentials it can use. Finally the supervisaor also uses the iptables routines to configure the NAT and bridge functinality for each network device.</p><h2 class="anchor anchorWithStickyNavbar_7Y9k" id="bridge">Bridge<a aria-hidden="true" class="hash-link" href="#bridge" title="Direct link to heading">â€‹</a></h2><p>The supervisor allows connecting two network devices into a bridge. Below is a diagram depicting an example connection between five network devices:</p><p><img alt="Bridge" src="/EDGESec/assets/images/dot_bridge-5cc2456e58931eb33b68ae8e529cf88f.png"></p><p>It important to note that the connection is not transitive. The control interface allows any application to list, add and remove bridge connections. When a connection is being added or removed the corresponding mapping in the supervisor context and the iptables entries are modified.</p><h2 class="anchor anchorWithStickyNavbar_7Y9k" id="nat">NAT<a aria-hidden="true" class="hash-link" href="#nat" title="Direct link to heading">â€‹</a></h2><p>The supervisor can allow or deny network access to a network device. The below picture depicts an example of NAT connection for several devices.</p><p><img alt="Nat" src="/EDGESec/assets/images/dot_nat-0b19c1df89af08d1872487977f097b8a.png"></p><p>As for bridges when a NAT connection is added or removed the iptables is modified accordinlgy.</p><h2 class="anchor anchorWithStickyNavbar_7Y9k" id="software-ap-service">Software AP service<a aria-hidden="true" class="hash-link" href="#software-ap-service" title="Direct link to heading">â€‹</a></h2><p>The software AP service creates a WiFi access points for network device connection. Currently the edgesec tool uses the hostap software AP service. The configuration structure for the AP service is depicted below:</p><div class="codeBlockContainer_8VJT"><div class="codeBlockContent_meoT c"><pre tabindex="0" class="prism-code language-c codeBlock_ltyB thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_ZWp2"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">apconf</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> ap_bin_path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">MAX_OS_PATH_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> ap_file_path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">MAX_OS_PATH_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> ap_log_path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">MAX_OS_PATH_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">IFNAMSIZ</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> ssid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">AP_NAME_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> wpa_passphrase</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">AP_SECRET_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> bridge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">IFNAMSIZ</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> driver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">AP_DRIVE_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> hw_mode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">AP_HWMODE_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> channel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> wmm_enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> auth_algs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> wpa</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> wpa_key_mgmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">AP_WPA_KEY_MGMT_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> rsn_pairwise</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">AP_RSN_PAIRWISE_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> ctrl_interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">MAX_OS_PATH_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> macaddr_acl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> dynamic_vlan</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> vlan_bridge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">IFNAMSIZ</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> vlan_file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">MAX_OS_PATH_LEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> logger_stdout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> logger_stdout_level</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> logger_syslog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> logger_syslog_level</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> ignore_broadcast_ssid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> wpa_psk_radius</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_TFIO clean-btn">Copy</button></div></div><p>The main components of the structure are <strong>interface</strong>, <strong>ssid</strong>, <strong>wpa_passphrase</strong> and <strong>ctrl_interface</strong>. The <strong>interface</strong> parameters sets the network interface of the AP. The <strong>ssid</strong> denotes the visible name of the access point to which network devices can connect to. The <strong>wpa_passphrase</strong> denotes the network credentials to join the AP abd the <strong>ctrl_interface</strong> is the UNIX domain socket to manage the AP. </p><p>Below is a diagram depicting the connection between the AP and other network services:</p><p><img alt="AP" src="/EDGESec/assets/images/dot_ap-ccab4b3c67ff873a955093c01a6cf34a.png"></p><p>The software AP, which in this case is implemented by hostapd, creates a RADIUS client. The RADIUS client equires for network credentials from RADIUS server. Subsequently the RADIUS server returns the access/deny and credentials packet. The access list and credentials are obtained from the supervisor service.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nqminds/docusaurus-template/edit/master/docs/control.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_QGlx" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_+nfr"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/EDGESec/docs/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->EDGESec Intro</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/EDGESec/docs/capture"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Network Capture<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_1gSR thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-network-control-architecture" class="table-of-contents__link toc-highlight">The Network Control architecture</a></li><li><a href="#the-subnet-service" class="table-of-contents__link toc-highlight">The Subnet service</a></li><li><a href="#the-supervisor-service" class="table-of-contents__link toc-highlight">The Supervisor service</a></li><li><a href="#bridge" class="table-of-contents__link toc-highlight">Bridge</a></li><li><a href="#nat" class="table-of-contents__link toc-highlight">NAT</a></li><li><a href="#software-ap-service" class="table-of-contents__link toc-highlight">Software AP service</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contact Us</div><ul class="footer__items"><li class="footer__item"><a href="http://nqmcyber.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_tjMl"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 NQMCyber LTD.<br>Built with Docusaurus.</div></div></div></footer></div>
<script src="/EDGESec/assets/js/runtime~main.46dad836.js"></script>
<script src="/EDGESec/assets/js/main.8ceb7501.js"></script>
</body>
</html>